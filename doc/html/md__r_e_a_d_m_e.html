<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Full step Rotary Encoder: 3 speed Rotary Encoder library for Arduino</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="FritzingRotary.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Full step Rotary Encoder
   &#160;<span id="projectnumber">1.0.1</span>
   </div>
   <div id="projectbrief">Three speed Full Step Rotary Encoder Library for Arduino</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">3 speed Rotary Encoder library for Arduino </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This is an optimized three speed rotary encoder library for Arduino. Half and full step rotary encoder types are supported by using polling or interrupts.</p>
<h2>Hardware</h2>
<p>Connect the two rotary pins to the digital pins of an Arduino board.</p>
<p>A third rotary button pin is not used in the Rotary library.</p>
<h3>Interrupts</h3>
<p>Both rotary pins must be connected to a DIGITAL pin with interrupt support, such as <code>INT0</code> or <code>INT1</code>. This is chip specific. Please refer to the documentation of your board or <a href="https://www.arduino.cc/reference/en/language/functions/external-interrupts/attachinterrupt/">attachInterrupt()</a>.</p>
<h3>Rotary - Arduino UNO example</h3>
<p>The connection below can be used for polled and interrupts. An optional button can be connected to DIGITAL pin 4.</p>
<div class="image">
<img src="https://raw.githubusercontent.com/Erriez/ArduinoLibraryRotary/master/extras/FritzingRotary.png" alt="alt text" title="3-pin Rotary Encoder Arduino connection"/>
</div>
<h2>Examples</h2>
<p>The following examples are available:</p><ul>
<li>Rotary | Interrupt | <a href="https://github.com/Erriez/ArduinoLibraryRotary/blob/master/examples/Interrupt/FullStepInterrupt/FullStepInterrupt.ino">FullStepInterrupt</a></li>
<li>Rotary | Interrupt | <a href="https://github.com/Erriez/ArduinoLibraryRotary/blob/master/examples/Interrupt/HalfStepInterrupt/HalfStepInterrupt.ino">HalfStepInterrupt</a></li>
<li>Rotary | Polled | <a href="https://github.com/Erriez/ArduinoLibraryRotary/blob/master/examples/Polled/FullStepBasic/FullStepBasic.ino">FullStepBasic</a></li>
<li>Rotary | Polled | <a href="https://github.com/Erriez/ArduinoLibraryRotary/blob/master/examples/Polled/FullStepBasic/FullStepBasic.ino">FullStepButton</a> (Requires an additional IO pin from the button on the Rotary Encoder)</li>
<li>Rotary | Polled | <a href="https://github.com/Erriez/ArduinoLibraryRotary/blob/master/examples/Polled/FullStepCounter/FullStepCounter.ino">FullStepCounter</a></li>
<li>Rotary | Polled | <a href="https://github.com/Erriez/ArduinoLibraryRotary/blob/master/examples/Polled/HalfStepBasic/HalfStepBasic.ino">HalfStepBasic</a></li>
<li>Rotary | Polled | <a href="https://github.com/Erriez/ArduinoLibraryRotary/blob/master/examples/Polled/HalfStepButton/HalfStepButton.ino">HalfStepButton</a> (Requires an additional IO pin from the button on the Rotary Encoder)</li>
<li>Rotary | Polled | <a href="https://github.com/Erriez/ArduinoLibraryRotary/blob/master/examples/Polled/HalfStepCounter/HalfStepCounter.ino">HalfStepCounter</a></li>
</ul>
<p>Half or full speed depends on the slip contacts inside the rotary. Try the Full step example first, followed by the half step rotary to see the differences.</p>
<h2>Usage</h2>
<p><b>Initialization</b> </p><div class="fragment"><div class="line">{c++}</div><div class="line">#include &lt;Rotary.h&gt;</div><div class="line"></div><div class="line">// Configure rotary pins connected to your Arduino board</div><div class="line">#define ROTARY_PIN1   2</div><div class="line">#define ROTARY_PIN2   3</div><div class="line"></div><div class="line">// Initialize full step rotary</div><div class="line">Rotary rotary(ROTARY_PIN1, ROTARY_PIN2, FullStep);</div><div class="line"></div><div class="line">// Or initialize half step rotary</div><div class="line">Rotary rotary(ROTARY_PIN1, ROTARY_PIN2, HalfStep);</div></div><!-- fragment --><p><b>Read rotary with polling</b> </p><div class="fragment"><div class="line">{c++}</div><div class="line">void loop()</div><div class="line">{</div><div class="line">    int rotaryState = rotary.read();</div><div class="line"></div><div class="line">    // rotaryState = -3: Turn left fast</div><div class="line">    // rotaryState = -2: Turn left faster</div><div class="line">    // rotaryState = -1: Turn left</div><div class="line">    // rotaryState = 0:  No change</div><div class="line">    // rotaryState = 1:  Turn right</div><div class="line">    // rotaryState = 2:  Turn right faster</div><div class="line">    // rotaryState = 3:  Turn right fast</div><div class="line">}</div></div><!-- fragment --><p><b>Read rotary with interrupts</b></p>
<div class="fragment"><div class="line">{c++}</div><div class="line">#include &lt;Rotary.h&gt;</div><div class="line"></div><div class="line">// Connect rotary to Arduino DIGITAL pins with interrupt support:</div><div class="line">//</div><div class="line">// +-----------------------------------+--------------------------+</div><div class="line">// |              Board                |  DIGITAL interrupt pins  |</div><div class="line">// +-----------------------------------+--------------------------+</div><div class="line">// | Uno, Nano, Mini, other 328-based  |  2, 3                    |</div><div class="line">// | Mega, Mega2560, MegaADK           |  2, 3, 18, 19, 20, 21    |</div><div class="line">// | Micro, Leonardo, other 32u4-based |  0, 1, 2, 3, 7           |</div><div class="line">// +-----------------------------------+--------------------------+</div><div class="line">//</div><div class="line">#define ROTARY_PIN1   2</div><div class="line">#define ROTARY_PIN2   3</div><div class="line"></div><div class="line">// Initialize full step rotary</div><div class="line">Rotary rotary(ROTARY_PIN1, ROTARY_PIN2, FullStep);</div><div class="line"></div><div class="line">void setup()</div><div class="line">{</div><div class="line">  // Initialize pin change interrupt on both rotary encoder pins</div><div class="line">  attachInterrupt(digitalPinToInterrupt(ROTARY_PIN1), rotaryInterrupt, CHANGE);</div><div class="line">  attachInterrupt(digitalPinToInterrupt(ROTARY_PIN2), rotaryInterrupt, CHANGE);</div><div class="line">}</div><div class="line"></div><div class="line">void rotaryInterrupt()</div><div class="line">{</div><div class="line">  int rotaryState;</div><div class="line"></div><div class="line">  // Read rotary state</div><div class="line">  rotaryState = rotary.read();</div><div class="line"></div><div class="line">  if (rotaryState &gt; 0) {</div><div class="line">    // Rotary right, speed 1, 2 or 3</div><div class="line">  } else if (rotaryState &lt; 0) {</div><div class="line">    // Rotary left, speed -1, -2 or -3</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><h2>Installation with Git</h2>
<h3>Install Git client for Windows</h3>
<p>Install a <a href="https://git-scm.com/download/win">Git client for Windows</a>.</p>
<h3>Install Git client for Linux</h3>
<p>Open a command prompt and install a Git client for Linux, such as Debian Ubuntu:</p>
<div class="fragment"><div class="line">sudo apt-get install git</div></div><!-- fragment --><h3>Windows and Linux</h3>
<p>The library must be installed in the Sketchbook directory which is configured in the Preferences dialog box.</p>
<ol type="1">
<li>Click <code>File</code> | <code>Preferences</code> |<code>Settings</code> tab and copy the Sketchbook location. The path on Windows is something like: <code>C:\Users\User\Documents\Arduino</code> The path on Linux is something like: <code>/home/user/Arduino</code></li>
<li>Open a command prompt and type:</li>
</ol>
<div class="fragment"><div class="line"># Run on Windows:</div><div class="line">cd C:\Users\User\Documents\Arduino</div><div class="line"># Or run on Linux:</div><div class="line">cd /home/user/Arduino</div><div class="line"></div><div class="line"># Run the git clone library once:</div><div class="line">git clone git clone https://github.com/Erriez/ArduinoLibraryRotary.git</div><div class="line"></div><div class="line"># Update the library:</div><div class="line">git pull</div></div><!-- fragment --><ol type="1">
<li>Restart the Arduino IDE. </li>
</ol>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
